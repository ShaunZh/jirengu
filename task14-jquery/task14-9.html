<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width, initial-scale=1">
  <title>task14-9</title>
  <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  <link rel="stylesheet" type="text/css" href="bulma.css">
  <style type="text/css">
    *{
        margin: 0;
        padding: 0;
    }
    body{
        background-color: #f6f6f6;
    }
    li{
        list-style: none;
    }
    a{
        text-decoration: none;
        color: #333;
    }
    .clearfix:after,
    .clearfix:before{
        content: "";
        display: table;
    }
    .clearfix:after{
        clear: both;
    }
    .clearfix{
        *zoom: 1;
    }

    .container{
        /* margin: 20px; */
    }
    .product-nav{
        position: relative;
    }
    .product-nav .slider{
        display: inline-block;
        position: absolute;
        top: 45px;
        left: 10px;
        width: 60px;
        border-bottom: 2px solid #F61717;
    }
    .product-nav li{
        float: left;
        padding: 10px 0;
    }
    .product-nav li a{
        display: inline-block;
        padding: 0 20px;
        border-right: 1px solid #ccc;
        font-size: 20px;
        color: #25F05A;
    }

    .product-content{
      width: 665px;
      overflow: hidden;
    }
    .product-content .items-wrap
    {
      position: relative;
      width: 5000px;
    }
    .product-content .items-wrap .items{
      width: 665px;
      float: left;
    }
    .product-content .items li:nth-child(3n) {
        margin-left: 0px;
    }
    .product-content .items li{
      position: relative;
      float: left;
      margin-left: 2px;
      margin-top: 10px;
      padding: 10px;
      text-align: center;
      background-color: #fff;
    }
    .product-content .items li a{
      position: absolute;
      z-index: 10;
      display: inline-block;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;

    }
    .product-content .items li a:hover{
      background: rgba(255, 255, 255, .8);
    }

    .go-to-buy:after{
      content: '立即抢购';
      position: absolute;
      top: 50%;
      left: 50%;
      -webkit-transform: translate(-50%, -50%);
         -moz-transform: translate(-50%, -50%);
          -ms-transform: translate(-50%, -50%);
           -o-transform: translate(-50%, -50%);
              transform: translate(-50%, -50%);

      border: 1px solid #FA5E5E;
      z-index: 10;
      background-color: #fff;;
    }
    .product-content .product-img{
        margin-bottom: 20px;
    }
    .product-content .product-desp{
        margin-bottom: 20px;
    }

    .product-content .time{
        color: #F70303;
        margin-bottom: 20px;
    }

    .product-content .load-more{
      margin-top: 30px;
      text-align: center;
    }
</style>
</head>
<body>
  <div class="container">
      <nav class="product-nav clearfix">
          <ol>
              <li><a href="#">热门</a></li><!--
           --><li><a href="#">珠宝首饰</a></li><!--
           --><li><a href="#">奢侈品</a></li>
          </ol>
          <span class="slider"></span>
      </nav>
      <div class="product-content clearfix">
        <div class="items-wrap">
          <div class="items">
            <ol class="clearfix">
              <li>
                <a href="#"></a>
                <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                <p class="product-desp">这是个文字</p>
                <p class="time">2017-06-21</p>

              </li>
              <li>
                <a href="#"></a>
                <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                <p class="product-desp">这是个文字</p>
                <p class="time">2017-06-22</p>
              </li>
              <li>
                <a href="#"></a>
                <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                <p class="product-desp">这是个文字</p>
                <p class="time">2017-06-23</p>
              </li>
              <li>
                <a href="#"></a>
                <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                <p class="product-desp">这是个文字</p>
                <p class="time">2017-06-24</p>
              </li>

            </ol>
            <div class="load-more">
              <button class="button is-primary">加载更多</button>
            </div>
           <!--  <div class="load-more">
              <button class="load-more-btn">加载更多</button>
            </div> -->
          </div>

          <div class="items">
            <ol  class="clearfix">
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
            </ol>
            <div class="load-more">
              <button class="button is-primary">加载更多</button>
            </div>
          </div>
          <div class="items">
            <ol  class="clearfix">
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
                <li>
                  <a href="#"></a>
                  <img class="product-img" src="https://unsplash.it/200/300/?random" alt="哈哈">
                  <p class="product-desp">这是个文字</p>
                  <p class="time">2017-06-23</p>
                </li>
            </ol>
            <div class="load-more">
              <button class="button is-primary">加载更多</button>
            </div>
          </div>
        </div>
      </div>
  </div>

  <script>
      var navItems = $(".product-nav li");

      var slider = $(".slider");
      var sliderCoor = [10, 110, 220];
      var productContentWidth = $(".product-content");

      var productsWrap = $(".product-content .items-wrap");
      var productsItem = $(".product-content .items ol");
      var products = $(".product-content li");
      var curClickTab = 0;

      var loadMoreBtn = $(".load-more button");
      navItems.on('mouseenter', function(e){
        curClickTab = $(this).index();
        var move = (-curClickTab)*productContentWidth.eq(0).width();
        slider.eq(0).animate({
          left: sliderCoor[curClickTab]
        }, 300);

        productsWrap.eq(0).animate({
          left: move
        }, 500);
      });

      loadMoreBtn.on("click", function(e){
          const productsArr = [
              {
                img: 'https://unsplash.it/200/300/?random',
                name: '珂兰 黄金手 猴哥款',
                price: '￥405.00'
              },{
                img: 'https://unsplash.it/200/300/?random',
                name: '珂兰 黄金转运珠 猴哥款',
                price: '￥100.00'
              },{
                img: 'https://unsplash.it/200/300/?random',
                name: '珂兰 黄金手链 3D猴哥款',
                price: '￥45.00'
              }
            ];
          $.each(productsArr, function(index, value){
            productsItem.eq(curClickTab).append(`<li><a href="#"></a><img class="product-img" src="${value["img"]}" alt="哈哈"><p class="product-desp">${value["name"]}</p><p class="time">${value["price"]}</p></li>`);
            console.log(productsItem.eq(curClickTab).html());
          });

          products = $(".product-content li");
          dispAddCat();
      });
      function dispAddCat(){
         products.on("mouseover", function(e){
          var $this = $(this);
          console.log($this);
          $this.find("a").addClass('go-to-buy');
        });

        products.on("mouseleave", function(e){
          var $this = $(this);
          console.log($this);
          $this.find("a").removeClass('go-to-buy');
        });
      }
      dispAddCat();



  </script>
</body>
</html>